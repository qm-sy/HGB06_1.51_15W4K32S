C51 COMPILER V9.60.7.0   SYNC                                                              08/01/2025 09:15:43 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE SYNC
OBJECT MODULE PLACED IN .\Output\sync.obj
COMPILER INVOKED BY: D:\APP\Keil_v5\C51\BIN\C51.EXE Src\sync.c LARGE OPTIMIZE(8,SPEED) BROWSE INCDIR(.\Inc;D:\APP\Keil_v
                    -5\C51\INC) DEBUG OBJECTEXTEND PRINT(.\Listings\sync.lst) OBJECT(.\Output\sync.obj)

line level    source

   1          #include "STC15W4Kxx.h"
   2          #include "stdint.h"
   3          #include "sync.h"
   4          #include "timer.h"
   5          #include "key.h"
   6          #include "pwm.h"
   7          #include "ntc.h"
   8          #include "screen.h"
   9          #include "stdio.h"
  10          
  11          void sync_judge()
  12          {
  13   1          if(sync_bit == 1)
  14   1          {
  15   2              
  16   2              if(external_24bit == 1)
  17   2              {
  18   3                  power_bit = 1;
  19   3                  sun_dis(DIS_ON);
  20   3                  wind_bit = 1;
  21   3                  delay_bit1 = 1;
  22   3                  delay_bit2 = 0;
  23   3              }
  24   2              else
  25   2              {
  26   3                  delay_bit2 = 1;
  27   3                  power_bit = 0;
  28   3                  sun_dis(DIS_OFF);
  29   3                  wind_bit = 0;
  30   3                  PWMStop(); 
  31   3              }
  32   2          }
  33   1          else
  34   1          {
  35   2              //delay_bit1 = 0;
  36   2              power_bit = 1;
  37   2              sun_dis(DIS_ON);
  38   2              wind_bit = 1; 
  39   2          }
  40   1          
  41   1          power_crl(power_num);
  42   1          wind_crl(wind_num);         //刷新风力和功率
  43   1      }
  44          
  45          void sync_fan_delay_listen()
  46          {
  47   1          if((delay_bit1 == 1)&&(delay_bit2 == 1))
  48   1          {
  49   2              wind_bit = 1;  
  50   2              wind_crl(wind_num);  
  51   2          }
  52   1          
  53   1      //    if((sync_bit == 1)&&(delay_bit2 == 0))
  54   1      //    {
C51 COMPILER V9.60.7.0   SYNC                                                              08/01/2025 09:15:43 PAGE 2   

  55   1      //        wind_bit = 1;  
  56   1      //        wind_crl(wind_num); 
  57   1      //    }
  58   1          
  59   1          if(delay_bit3 == 1)
  60   1          {  
  61   2              if(sync_bit == 1)
  62   2              {
  63   3                  wind_bit = 0; 
  64   3                  PWMStop();
  65   3              }
  66   2              delay_bit3 = 0;
  67   2          }
  68   1      }
  69          void led_init()
  70          {
  71   1          P24 = P25 = P26 = 0;
  72   1          P43 = P44 = 0;
  73   1      }
  74          
  75          void external_24V_listen()
  76          {
  77   1          static now_value = 0;
  78   1          if(now_value!=previous_value)
  79   1          {
  80   2              sync_judge();
  81   2              now_value = previous_value;
  82   2          }
  83   1      }
  84          
  85          void temp_listen()
  86          {   
  87   1          static uint8_t temp; 
  88   1          temp = (uint8_t)get_temp(6);
  89   1          if(temp>=temp_num)
  90   1          {
  91   2              alarm_dis(DIS_ON);
  92   2              P05 = 1;
  93   2              P54 = temp_dis_bit;
  94   2          }
  95   1          
  96   1          if(temp<temp_num)    
  97   1          {
  98   2              alarm_dis(DIS_OFF);
  99   2              P05 = 0;
 100   2              P54 = 1;
 101   2          }
 102   1      
 103   1          
 104   1      //    if(sync_bit==1)
 105   1      //        
 106   1      //    {
 107   1      //        if(external_24bit==1)
 108   1      //        {
 109   1      //            //alarm_dis(DIS_OFF);
 110   1      //            power_bit = 1; 
 111   1      //        }
 112   1      //    }
 113   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
C51 COMPILER V9.60.7.0   SYNC                                                              08/01/2025 09:15:43 PAGE 3   

   CODE SIZE        =    190    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =      3    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
